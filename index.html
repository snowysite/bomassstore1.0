<!DOCTYPE html>
html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bomass Store - Your Premium Shopping Destination</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#059669',
                        secondary: '#0d9488',
                        accent: '#f59e0b'
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #059669 0%, #0d9488 100%); }
        .hero-gradient { background: linear-gradient(135deg, #059669 0%, #0d9488 50%, #f59e0b 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(0,0,0,0.1); }
        .fade-in { animation: fadeIn 0.8s ease-in; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
        .slide-in { animation: slideIn 1s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
        .bounce-in { animation: bounceIn 1.2s ease-out; }
        @keyframes bounceIn { 
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { opacity: 1; transform: scale(1); }
        }
        .floating { animation: floating 3s ease-in-out infinite; }
        @keyframes floating { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-10px); } }
        .pulse-glow { animation: pulseGlow 2s ease-in-out infinite; }
        @keyframes pulseGlow { 0%, 100% { box-shadow: 0 0 20px rgba(5, 150, 105, 0.3); } 50% { box-shadow: 0 0 40px rgba(5, 150, 105, 0.6); } }
        .category-card { background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%); }
        .product-card { background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%); }
        .navbar-blur { backdrop-filter: blur(10px); background: rgba(255, 255, 255, 0.95); }
        .text-gradient { background: linear-gradient(135deg, #059669, #0d9488, #f59e0b); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .modal-backdrop { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); }
        .notification { position: fixed; top: 20px; right: 20px; z-index: 1000; transform: translateX(400px); transition: transform 0.3s ease; }
        @media (max-width: 640px) {
            .notification { right: 10px; left: 10px; transform: translateY(-100px); max-width: none; }
            .notification.show { transform: translateY(0); }
        }
        .notification.show { transform: translateX(0); }
        .loading { animation: spin 1s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .loader-overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: rgba(255, 255, 255, 0.9); 
            backdrop-filter: blur(4px); 
            z-index: 9999; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .loader-overlay.show { 
            opacity: 1; 
            visibility: visible; 
        }
        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #e5e7eb;
            border-top: 4px solid #059669;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        .pulse-loader {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #059669;
            animation: pulse-loader 1.4s ease-in-out infinite both;
        }
        .pulse-loader:nth-child(1) { animation-delay: -0.32s; }
        .pulse-loader:nth-child(2) { animation-delay: -0.16s; }
        @keyframes pulse-loader {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
        .counter {
            display: inline-block;
            transition: all 0.3s ease;
        }
        .counter.counting {
            animation: countPulse 0.1s ease-in-out;
        }
        @keyframes countPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Loader Overlay -->
    <div id="loaderOverlay" class="loader-overlay">
        <div class="text-center">
            <div class="spinner mb-4"></div>
            <p class="text-gray-600 font-medium">Loading...</p>
        </div>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification bg-white rounded-lg shadow-lg p-4 border-l-4 border-green-500 max-w-sm">
        <div class="flex items-center">
            <div class="flex-shrink-0">
                <svg class="w-5 h-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
            </div>
            <div class="ml-3">
                <p id="notificationText" class="text-sm font-medium text-gray-900"></p>
            </div>
            <button onclick="hideNotification()" class="ml-auto text-gray-400 hover:text-gray-600">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 navbar-blur border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <div class="w-10 h-10 gradient-bg rounded-xl flex items-center justify-center mr-3">
                            <span class="text-white font-bold text-xl">B</span>
                        </div>
                        <span class="text-2xl font-bold text-gradient">Bomass Store</span>
                    </div>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#home" class="text-gray-900 hover:text-primary px-3 py-2 text-sm font-medium transition-colors">Home</a>
                        <a href="#categories" class="text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium transition-colors">Categories</a>
                        <a href="#products" class="text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium transition-colors">Products</a>
                        <button onclick="showDonateModal()" class="text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium transition-colors">Donate Products</button>
                        <a href="adminlogin.html" class="gradient-bg px-4 py-2 rounded-full text-white font-medium hover:bg-white/20">Admin</a>
                        <a href="#contact" class="text-gray-600 hover:text-primary px-3 py-2 text-sm font-medium transition-colors">Contact</a>
                    </div>
                </div>

                <!-- Right side buttons - Desktop only -->
                <div class="hidden md:flex items-center space-x-4">
                    <button onclick="showSearchModal()" class="relative p-2 text-gray-600 hover:text-primary transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>
                    <button onclick="showWishlist()" class="relative p-2 text-gray-600 hover:text-primary transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                        </svg>
                        <span id="wishlistCount" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center text-xs">0</span>
                    </button>
                    <button onclick="showCart()" class="relative p-2 text-gray-600 hover:text-primary transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17M17 13v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"></path>
                        </svg>
                        <span id="cartCount" class="absolute -top-1 -right-1 bg-primary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center text-xs">0</span>
                    </button>
                    <!-- Desktop Sign In Button -->
                    <button onclick="showAuthModal()" id="authBtn" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors font-medium text-sm">
                        Sign In
                    </button>
                    <!-- Desktop User Menu -->
                    <div id="userMenu" class="hidden relative">
                        <button onclick="toggleUserMenu()" class="flex items-center space-x-2 text-gray-700 hover:text-primary p-2 rounded-lg hover:bg-gray-100 transition-colors">
                            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center flex-shrink-0">
                                <span id="userInitials" class="text-white text-sm font-medium"></span>
                            </div>
                            <span id="userName" class="font-medium hidden lg:block text-sm truncate max-w-24"></span>
                            <svg class="w-4 h-4 text-gray-400 hidden lg:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="userDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border z-50">
                            <a href="#" onclick="showProfile()" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">My Profile</a>
                            <a href="#" onclick="showOrders()" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">My Orders</a>
                            <a href="#" onclick="showDonations()" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">My Donations</a>
                            <hr class="my-1">
                            <a href="#" onclick="logout()" class="block px-4 py-2 text-red-600 hover:bg-gray-50">Logout</a>
                        </div>
                    </div>
                </div>

                <!-- Mobile menu button -->
                <div class="md:hidden">
                    <button id="mobile-menu-btn" class="text-gray-600 hover:text-primary p-2">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="#home" class="block px-3 py-2 text-gray-900 font-medium">Home</a>
                <a href="#categories" class="block px-3 py-2 text-gray-600 hover:text-primary">Categories</a>
                <a href="#products" class="block px-3 py-2 text-gray-600 hover:text-primary">Products</a>
                <button onclick="showDonateModal(); toggleMobileMenu();" class="block w-full text-left px-3 py-2 text-gray-600 hover:text-primary">Donate Products</button>
                <a href="adminlogin.html" class="block px-3 py-2 text-gray-600 hover:text-primary">Admin</a>
                <a href="#contact" class="block px-3 py-2 text-gray-600 hover:text-primary">Contact</a>
                
                <!-- Mobile Action Buttons -->
                <div class="border-t border-gray-200 pt-3 mt-3">
                    <button onclick="showSearchModal(); toggleMobileMenu();" class="flex items-center w-full px-3 py-2 text-gray-600 hover:text-primary">
                        <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        Search Products
                    </button>
                    <button onclick="showWishlist(); toggleMobileMenu();" class="flex items-center justify-between w-full px-3 py-2 text-gray-600 hover:text-primary">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                            My Wishlist
                        </div>
                        <span id="mobileWishlistCount" class="bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </button>
                    <button onclick="showCart(); toggleMobileMenu();" class="flex items-center justify-between w-full px-3 py-2 text-gray-600 hover:text-primary">
                        <div class="flex items-center">
                            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17M17 13v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"></path>
                            </svg>
                            Shopping Cart
                        </div>
                        <span id="mobileCartCount" class="bg-primary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </button>
                </div>
                
                <!-- Mobile Auth Section -->
                <div class="border-t border-gray-200 pt-3 mt-3">
                    <!-- Mobile Sign In Button -->
                    <button onclick="showAuthModal(); toggleMobileMenu();" id="mobileAuthBtn" class="block w-full text-left px-3 py-2 bg-primary text-white rounded-lg font-medium hover:bg-primary/90 transition-colors">
                        Sign In
                    </button>
                    
                    <!-- Mobile User Menu -->
                    <div id="mobileUserMenu" class="hidden">
                        <div class="flex items-center px-3 py-2 border-b border-gray-200">
                            <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center mr-3">
                                <span id="mobileUserInitials" class="text-white text-sm font-medium"></span>
                            </div>
                            <span id="mobileUserName" class="font-medium text-gray-900"></span>
                        </div>
                        <a href="#" onclick="showProfile(); toggleMobileMenu();" class="block px-3 py-2 text-gray-600 hover:text-primary">My Profile</a>
                        <a href="#" onclick="showOrders(); toggleMobileMenu();" class="block px-3 py-2 text-gray-600 hover:text-primary">My Orders</a>
                        <a href="#" onclick="showDonations(); toggleMobileMenu();" class="block px-3 py-2 text-gray-600 hover:text-primary">My Donations</a>
                        <button onclick="logout(); toggleMobileMenu();" class="block w-full text-left px-3 py-2 text-red-600 hover:bg-gray-50">Logout</button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="pt-16 hero-gradient min-h-screen flex items-center">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
                <div class="slide-in text-center lg:text-left">
                    <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-7xl font-bold text-white mb-4 md:mb-6 leading-tight">
                        Essential Items,
                        <span class="text-yellow-300">Affordable Prices</span>
                    </h1>
                    <p class="text-lg md:text-xl text-white/90 mb-6 md:mb-8 leading-relaxed max-w-2xl mx-auto lg:mx-0">
                        Quality essentials for everyone. From basic needs to daily necessities, 
                        we make essential items accessible to all with prices starting from ₦200.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <button onclick="document.getElementById('products').scrollIntoView({behavior: 'smooth'})" class="bg-white text-primary px-6 md:px-8 py-3 md:py-4 rounded-xl font-semibold hover:bg-gray-100 transition-all transform hover:scale-105 pulse-glow text-sm md:text-base">
                            🛍️ Start Shopping
                        </button>
                        <button onclick="showDonateModal()" class="border-2 border-white text-white px-6 md:px-8 py-3 md:py-4 rounded-xl font-semibold hover:bg-white hover:text-primary transition-all text-sm md:text-base">
                            💝 Donate Products
                        </button>
                    </div>
                    <div class="mt-8 md:mt-12 flex items-center justify-center lg:justify-start space-x-4 md:space-x-8">
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold text-white">
                                <span id="customersCount" class="counter" data-target="50000">0</span>K+
                            </div>
                            <div class="text-white/80 text-sm md:text-base">Happy Customers</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold text-white">
                                <span id="productsCount" class="counter" data-target="10000">0</span>K+
                            </div>
                            <div class="text-white/80 text-sm md:text-base">Products</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold text-white">
                                <span id="satisfactionCount" class="counter" data-target="99">0</span>%
                            </div>
                            <div class="text-white/80 text-sm md:text-base">Satisfaction</div>
                        </div>
                    </div>
                </div>
                <div class="bounce-in">
                    <div class="relative">
                        <div class="floating">
                            <div class="bg-white/20 backdrop-blur-lg rounded-3xl p-8 border border-white/30">
                                <div class="grid grid-cols-2 gap-4">
                                    <div class="bg-white rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform" onclick="filterByCategory('electronics')">
                                        <div class="text-4xl mb-2">📱</div>
                                        <div class="text-sm font-medium text-gray-800">Electronics</div>
                                    </div>
                                    <div class="bg-white rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform" onclick="filterByCategory('fashion')">
                                        <div class="text-4xl mb-2">👕</div>
                                        <div class="text-sm font-medium text-gray-800">Fashion</div>
                                    </div>
                                    <div class="bg-white rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform" onclick="filterByCategory('home')">
                                        <div class="text-4xl mb-2">🏠</div>
                                        <div class="text-sm font-medium text-gray-800">Home</div>
                                    </div>
                                    <div class="bg-white rounded-2xl p-4 text-center cursor-pointer hover:scale-105 transition-transform" onclick="filterByCategory('sports')">
                                        <div class="text-4xl mb-2">⚽</div>
                                        <div class="text-sm font-medium text-gray-800">Sports</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-12 md:py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 md:mb-16 fade-in">
                <h2 class="text-2xl md:text-4xl font-bold text-gray-900 mb-4">Why Choose Bomass Store?</h2>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
                    We're committed to providing you with the best shopping experience through our premium services and quality products.
                </p>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
                <div class="text-center card-hover bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Affordable Shipping</h3>
                    <p class="text-gray-600">Low-cost delivery starting from ₦500. Free shipping on orders over ₦5,000.</p>
                </div>
                
                <div class="text-center card-hover bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-green-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Quality Guarantee</h3>
                    <p class="text-gray-600">100% authentic products with quality guarantee and easy returns.</p>
                </div>
                
                <div class="text-center card-hover bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">24/7 Support</h3>
                    <p class="text-gray-600">Round-the-clock customer support to help you with any questions.</p>
                </div>
                
                <div class="text-center card-hover bg-gradient-to-br from-yellow-50 to-yellow-100 p-8 rounded-2xl">
                    <div class="w-16 h-16 bg-yellow-500 rounded-2xl flex items-center justify-center mx-auto mb-6">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                        </svg>
                    </div>
                    <h3 class="text-xl font-semibold text-gray-900 mb-3">Secure Payment</h3>
                    <p class="text-gray-600">Safe and secure payment methods with SSL encryption protection.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Categories Section -->
    <section id="categories" class="py-12 md:py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12 md:mb-16 fade-in">
                <h2 class="text-2xl md:text-4xl font-bold text-gray-900 mb-4">Shop by Category</h2>
                <p class="text-lg md:text-xl text-gray-600">Explore our wide range of product categories</p>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4 md:gap-6">
                <div class="category-card p-4 md:p-6 rounded-2xl text-center card-hover border border-gray-200 cursor-pointer" onclick="filterByCategory('electronics')">
                    <div class="text-3xl md:text-5xl mb-2 md:mb-4">📱</div>
                    <h3 class="font-semibold text-gray-900 mb-1 md:mb-2 text-sm md:text-base">Electronics</h3>
                    <p class="text-xs md:text-sm text-gray-600">Essential tech items</p>
                </div>
                <div class="category-card p-4 md:p-6 rounded-2xl text-center card-hover border border-gray-200 cursor-pointer" onclick="filterByCategory('fashion')">
                    <div class="text-3xl md:text-5xl mb-2 md:mb-4">👕</div>
                    <h3 class="font-semibold text-gray-900 mb-1 md:mb-2 text-sm md:text-base">Fashion</h3>
                    <p class="text-xs md:text-sm text-gray-600">Affordable clothing</p>
                </div>
                <div class="category-card p-4 md:p-6 rounded-2xl text-center card-hover border border-gray-200 cursor-pointer" onclick="filterByCategory('home')">
                    <div class="text-3xl md:text-5xl mb-2 md:mb-4">🏠</div>
                    <h3 class="font-semibold text-gray-900 mb-1 md:mb-2 text-sm md:text-base">Home & Garden</h3>
                    <p class="text-xs md:text-sm text-gray-600">Daily necessities</p>
                </div>
                <div class="category-card p-4 md:p-6 rounded-2xl text-center card-hover border border-gray-200 cursor-pointer" onclick="filterByCategory('beauty')">
                    <div class="text-3xl md:text-5xl mb-2 md:mb-4">💄</div>
                    <h3 class="font-semibold text-gray-900 mb-1 md:mb-2 text-sm md:text-base">Personal Care</h3>
                    <p class="text-xs md:text-sm text-gray-600">Hygiene essentials</p>
                </div>
                <div class="category-card p-4 md:p-6 rounded-2xl text-center card-hover border border-gray-200 cursor-pointer" onclick="filterByCategory('sports')">
                    <div class="text-3xl md:text-5xl mb-2 md:mb-4">⚽</div>
                    <h3 class="font-semibold text-gray-900 mb-1 md:mb-2 text-sm md:text-base">Sports</h3>
                    <p class="text-xs md:text-sm text-gray-600">Active lifestyle</p>
                </div>
                <div class="category-card p-4 md:p-6 rounded-2xl text-center card-hover border border-gray-200 cursor-pointer" onclick="filterByCategory('books')">
                    <div class="text-3xl md:text-5xl mb-2 md:mb-4">📚</div>
                    <h3 class="font-semibold text-gray-900 mb-1 md:mb-2 text-sm md:text-base">Books</h3>
                    <p class="text-xs md:text-sm text-gray-600">Learning materials</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="py-12 md:py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8 md:mb-16">
                <div class="fade-in mb-6 lg:mb-0 text-center lg:text-left">
                    <h2 class="text-2xl md:text-4xl font-bold text-gray-900 mb-2 md:mb-4">Featured Products</h2>
                    <p class="text-lg md:text-xl text-gray-600">Handpicked products just for you</p>
                </div>
                <div class="flex flex-col sm:flex-row items-center space-y-2 sm:space-y-0 sm:space-x-4">
                    <select id="categoryFilter" onchange="filterProducts()" class="w-full sm:w-auto px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-sm md:text-base">
                        <option value="">All Categories</option>
                        <option value="electronics">Electronics</option>
                        <option value="fashion">Fashion</option>
                        <option value="home">Home & Garden</option>
                        <option value="beauty">Beauty</option>
                        <option value="sports">Sports</option>
                        <option value="books">Books</option>
                        <option value="other">Other</option>
                    </select>
                    <select id="sortFilter" onchange="sortProducts()" class="w-full sm:w-auto px-3 md:px-4 py-2 border border-gray-300 rounded-lg text-sm md:text-base">
                        <option value="featured">Featured</option>
                        <option value="price-low">Price: Low to High</option>
                        <option value="price-high">Price: High to Low</option>
                        <option value="rating">Highest Rated</option>
                        <option value="newest">Newest</option>
                    </select>
                </div>
            </div>
            <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6 lg:gap-8">
                <!-- Products will be dynamically loaded here -->
            </div>
            <div class="text-center mt-8 md:mt-12">
                <button onclick="loadMoreProducts()" class="bg-primary text-white px-6 md:px-8 py-3 rounded-lg hover:bg-primary/90 transition-colors font-medium text-sm md:text-base">
                    Load More Products
                </button>
            </div>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="py-12 md:py-20 gradient-bg">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <div class="fade-in">
                <h2 class="text-2xl md:text-4xl font-bold text-white mb-4">Stay Updated</h2>
                <p class="text-lg md:text-xl text-white/90 mb-6 md:mb-8">
                    Subscribe to our newsletter and get exclusive deals, new product alerts, and shopping tips.
                </p>
                <div class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto">
                    <input type="email" id="newsletterEmail" placeholder="Enter your email address" 
                           class="flex-1 px-4 md:px-6 py-3 md:py-4 rounded-xl border-0 focus:ring-4 focus:ring-white/20 text-gray-900 text-sm md:text-base">
                    <button onclick="subscribeNewsletter()" class="bg-white text-primary px-6 md:px-8 py-3 md:py-4 rounded-xl font-semibold hover:bg-gray-100 transition-colors text-sm md:text-base">
                        Subscribe
                    </button>
                </div>
                <p class="text-sm text-white/70 mt-4">
                    No spam, unsubscribe at any time. We respect your privacy.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="bg-gray-900 text-white py-12 md:py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
                <div>
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 gradient-bg rounded-xl flex items-center justify-center mr-3">
                            <span class="text-white font-bold text-xl">B</span>
                        </div>
                        <span class="text-2xl font-bold">Bomass Store</span>
                    </div>
                    <p class="text-gray-400 mb-6">
                        Your trusted online shopping destination for premium products at unbeatable prices.
                    </p>
                    <div class="flex space-x-4">
                        <button class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-700 transition-colors">
                            <span class="text-xl">📘</span>
                        </button>
                        <button class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-700 transition-colors">
                            <span class="text-xl">🐦</span>
                        </button>
                        <button class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-700 transition-colors">
                            <span class="text-xl">📷</span>
                        </button>
                        <button class="w-10 h-10 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-gray-700 transition-colors">
                            <span class="text-xl">💼</span>
                        </button>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">Quick Links</h3>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">About Us</a></li>
                        <li><a href="#" onclick="showTrackOrder()" class="text-gray-400 hover:text-white transition-colors">Track Order</a></li>
                        <li><a href="#" onclick="showReturnPolicy()" class="text-gray-400 hover:text-white transition-colors">Return Policy</a></li>
                        <li><a href="#" onclick="showFAQ()" class="text-gray-400 hover:text-white transition-colors">FAQ</a></li>
                        <li><a href="#" onclick="showDonateModal()" class="text-gray-400 hover:text-white transition-colors">Donate Products</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">Customer Service</h3>
                    <ul class="space-y-3">
                        <li><a href="#" onclick="showSupport()" class="text-gray-400 hover:text-white transition-colors">Help Center</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Returns</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Shipping Info</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Size Guide</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Payment Methods</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-6">Contact Info</h3>
                    <div class="space-y-3">
                        <div class="flex items-center text-gray-400">
                            <span class="mr-3">📍</span>
                            <span>123 Shopping Street, Lagos, Nigeria</span>
                        </div>
                        <div class="flex items-center text-gray-400">
                            <span class="mr-3">📞</span>
                            <span>+234 800 123 4567</span>
                        </div>
                        <div class="flex items-center text-gray-400">
                            <span class="mr-3">✉️</span>
                            <span>support@bomassstore.com</span>
                        </div>
                        <div class="flex items-center text-gray-400">
                            <span class="mr-3">🕒</span>
                            <span>24/7 Customer Support</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-12 pt-8">
                <div class="flex flex-col md:flex-row items-center justify-between">
                    <p class="text-gray-400 text-sm">
                        © 2024 Bomass Store. All rights reserved.
                    </p>
                    <div class="flex space-x-6 mt-4 md:mt-0">
                        <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">Privacy Policy</a>
                        <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">Terms of Service</a>
                        <a href="#" class="text-gray-400 hover:text-white text-sm transition-colors">Cookie Policy</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Modals -->
    <!-- Auth Modal -->
    <div id="authModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 md:p-8 mx-4">
                <div class="text-center mb-8">
                    <h2 id="authTitle" class="text-3xl font-bold text-gray-800 mb-2">Welcome Back</h2>
                    <p class="text-gray-600">Sign in to your account</p>
                </div>
                
                <div id="authTabs" class="flex mb-6 bg-gray-100 rounded-lg p-1">
                    <button onclick="switchAuthTab('signin')" id="signinTab" class="flex-1 py-2 px-4 rounded-md text-sm font-medium bg-white text-primary shadow-sm">Sign In</button>
                    <button onclick="switchAuthTab('signup')" id="signupTab" class="flex-1 py-2 px-4 rounded-md text-sm font-medium text-gray-600">Sign Up</button>
                </div>
                
                <form id="authForm" class="space-y-4">
                    <div id="nameField" class="hidden">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                        <input type="text" id="fullName" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                        <input type="email" id="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="password" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    <div id="confirmPasswordField" class="hidden">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Confirm Password</label>
                        <input type="password" id="confirmPassword" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                        <span id="authSubmitText">Sign In</span>
                    </button>
                </form>
                
                <button onclick="closeModal('authModal')" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden mx-4">
                <div class="p-6 border-b">
                    <div class="flex items-center justify-between">
                        <h2 class="text-2xl font-bold text-gray-800">Shopping Cart</h2>
                        <button onclick="closeModal('cartModal')" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="cartItems" class="p-6 max-h-96 overflow-y-auto">
                    <!-- Cart items will be dynamically loaded here -->
                </div>
                <div class="p-6 border-t bg-gray-50">
                    <div class="flex items-center justify-between mb-4">
                        <span class="text-lg font-semibold">Total:</span>
                        <span id="cartTotal" class="text-2xl font-bold text-primary">₦0</span>
                    </div>
                    <button onclick="proceedToCheckout()" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                        Proceed to Checkout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden mx-4">
                <div class="p-4 md:p-6 border-b">
                    <div class="flex items-center justify-between">
                        <h2 class="text-xl md:text-2xl font-bold text-gray-800">Checkout</h2>
                        <button onclick="closeModal('checkoutModal')" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="p-4 md:p-6 max-h-[70vh] overflow-y-auto">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8">
                        <div>
                            <h3 class="text-lg font-semibold mb-4">Shipping Information</h3>
                            <form id="checkoutForm" class="space-y-4">
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">First Name</label>
                                        <input type="text" id="firstName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Last Name</label>
                                        <input type="text" id="lastName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                    <input type="email" id="checkoutEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                                    <input type="tel" id="phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Address</label>
                                    <input type="text" id="address" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">City</label>
                                        <input type="text" id="city" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">State</label>
                                        <select id="state" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                            <option value="">Select State</option>
                                            <option value="lagos">Lagos</option>
                                            <option value="abuja">Abuja</option>
                                            <option value="kano">Kano</option>
                                            <option value="rivers">Rivers</option>
                                            <option value="ogun">Ogun</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <h3 class="text-lg font-semibold mt-8 mb-4">Payment Method</h3>
                                <div class="space-y-3">
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                        <input type="radio" name="paymentMethod" value="card" class="mr-3">
                                        <div class="flex items-center">
                                            <span class="text-2xl mr-3">💳</span>
                                            <span>Credit/Debit Card</span>
                                        </div>
                                    </label>
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                        <input type="radio" name="paymentMethod" value="transfer" class="mr-3">
                                        <div class="flex items-center">
                                            <span class="text-2xl mr-3">🏦</span>
                                            <span>Bank Transfer</span>
                                        </div>
                                    </label>
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50">
                                        <input type="radio" name="paymentMethod" value="cod" class="mr-3" checked>
                                        <div class="flex items-center">
                                            <span class="text-2xl mr-3">💰</span>
                                            <span>Cash on Delivery</span>
                                        </div>
                                    </label>
                                </div>
                            </form>
                        </div>
                        
                        <div>
                            <h3 class="text-lg font-semibold mb-4">Order Summary</h3>
                            <div id="checkoutSummary" class="bg-gray-50 rounded-lg p-4">
                                <!-- Order summary will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-6 border-t bg-gray-50">
                    <button onclick="placeOrder()" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                        Place Order
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Donate Modal -->
    <div id="donateModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden mx-4">
                <div class="p-6 border-b">
                    <div class="flex items-center justify-between">
                        <h2 class="text-2xl font-bold text-gray-800">Donate Products</h2>
                        <button onclick="closeModal('donateModal')" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="p-6 max-h-[70vh] overflow-y-auto">
                    <div class="text-center mb-6">
                        <div class="text-6xl mb-4">💝</div>
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">Share the Joy of Giving</h3>
                        <p class="text-gray-600">Help others by donating products you no longer need. Your generosity can make someone's day!</p>
                    </div>
                    
                    <form id="donateForm" class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Product Name</label>
                            <input type="text" id="donateProductName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="e.g., iPhone 12, Winter Jacket">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
                            <select id="donateCategory" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="">Select Category</option>
                                <option value="electronics">Electronics</option>
                                <option value="fashion">Fashion & Clothing</option>
                                <option value="home">Home & Garden</option>
                                <option value="beauty">Beauty & Personal Care</option>
                                <option value="sports">Sports & Outdoors</option>
                                <option value="books">Books & Media</option>
                                <option value="toys">Toys & Games</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Condition</label>
                            <select id="donateCondition" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="">Select Condition</option>
                                <option value="new">Brand New</option>
                                <option value="like-new">Like New</option>
                                <option value="good">Good Condition</option>
                                <option value="fair">Fair Condition</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Product Images</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-primary transition-colors">
                                <input type="file" id="donateImages" multiple accept="image/*" class="hidden" onchange="handleImageUpload(this)">
                                <div id="imageUploadArea" class="cursor-pointer" onclick="document.getElementById('donateImages').click()">
                                    <svg class="w-12 h-12 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                                    </svg>
                                    <p class="text-gray-600 mb-2">Click to upload product images</p>
                                    <p class="text-sm text-gray-500">PNG, JPG, GIF up to 10MB each (max 5 images)</p>
                                </div>
                                <div id="imagePreview" class="mt-4 grid grid-cols-2 gap-4 hidden"></div>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea id="donateDescription" required rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Describe the product, its features, and why you're donating it..."></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Your Contact Information</label>
                            <div class="grid grid-cols-2 gap-4">
                                <input type="text" id="donorName" required placeholder="Your Name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                <input type="email" id="donorEmail" required placeholder="Your Email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                            <input type="tel" id="donorPhone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="+234 800 000 0000">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Pickup Location</label>
                            <input type="text" id="pickupLocation" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="Address for product pickup">
                        </div>
                        
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                            <div class="flex items-start">
                                <svg class="w-5 h-5 text-blue-500 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <div class="text-sm text-blue-700">
                                    <p class="font-medium mb-1">How it works:</p>
                                    <ul class="list-disc list-inside space-y-1">
                                        <li>Submit your donation request</li>
                                        <li>We'll review and verify the product</li>
                                        <li>Schedule a free pickup from your location</li>
                                        <li>Your product helps someone in need!</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <button type="submit" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                            Submit Donation Request
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Search Modal -->
    <div id="searchModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-start justify-center min-h-screen p-4 pt-20">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4">
                <div class="p-6">
                    <div class="flex items-center space-x-4 mb-6">
                        <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        <input type="text" id="searchInput" placeholder="Search for products..." class="flex-1 text-lg border-0 focus:ring-0 focus:outline-none" onkeyup="performSearch()">
                        <button onclick="closeModal('searchModal')" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    <div id="searchResults" class="max-h-96 overflow-y-auto">
                        <div class="text-center text-gray-500 py-8">
                            <svg class="w-12 h-12 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            <p>Start typing to search for products...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wishlist Modal -->
    <div id="wishlistModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden mx-4">
                <div class="p-6 border-b">
                    <div class="flex items-center justify-between">
                        <h2 class="text-2xl font-bold text-gray-800">My Wishlist</h2>
                        <button onclick="closeModal('wishlistModal')" class="text-gray-400 hover:text-gray-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div id="wishlistItems" class="p-6 max-h-96 overflow-y-auto">
                    <!-- Wishlist items will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminModal" class="hidden fixed inset-0 z-50 modal-backdrop">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 md:p-8 mx-4">
                <div class="text-center mb-8">
                    <div class="w-16 h-16 bg-gradient-to-r from-red-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
                        </svg>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Admin Access</h2>
                    <p class="text-gray-600">Enter admin credentials to access dashboard</p>
                </div>
                
                <form id="adminForm" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Admin Email</label>
                        <input type="email" id="adminEmail" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="admin@bomassstore.com">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Admin Password</label>
                        <input type="password" id="adminPassword" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent" placeholder="Enter admin password">
                    </div>
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                        <div class="flex items-start">
                            <svg class="w-5 h-5 text-yellow-500 mt-0.5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                            </svg>
                            <div class="text-sm text-yellow-700">
                                <p class="font-medium mb-1">Demo Credentials:</p>
                                <p>Email: admin@bomassstore.com</p>
                                <p>Password: admin123</p>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="w-full bg-gradient-to-r from-red-500 to-orange-500 text-white py-3 rounded-lg font-medium hover:from-red-600 hover:to-orange-600 transition-all transform hover:scale-105">
                        <span id="adminLoginBtn">Access Admin Dashboard</span>
                        <div id="adminLoginSpinner" class="hidden flex items-center justify-center">
                            <div class="pulse-loader mr-2"></div>
                            <div class="pulse-loader mr-2"></div>
                            <div class="pulse-loader"></div>
                        </div>
                    </button>
                </form>
                
                <button onclick="closeModal('adminModal')" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let cart = [];
        let wishlist = [];
        let products = [];
        let filteredProducts = [];
        let currentPage = 1;
        const productsPerPage = 8;

        // Loader functions
        function showLoader(message = 'Loading...') {
            const loader = document.getElementById('loaderOverlay');
            const loaderText = loader.querySelector('p');
            loaderText.textContent = message;
            loader.classList.add('show');
        }

        function hideLoader() {
            document.getElementById('loaderOverlay').classList.remove('show');
        }

        function showButtonLoader(buttonId, spinnerId) {
            document.getElementById(buttonId).classList.add('hidden');
            document.getElementById(spinnerId).classList.remove('hidden');
        }

        function hideButtonLoader(buttonId, spinnerId) {
            document.getElementById(buttonId).classList.remove('hidden');
            document.getElementById(spinnerId).classList.add('hidden');
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadProducts();
            setupEventListeners();
            startCounterAnimations();
        });

        function initializeApp() {
            // Check if user is logged in
            const savedUser = localStorage.getItem('bomassUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateAuthUI();
            }

            // Load cart and wishlist from localStorage
            const savedCart = localStorage.getItem('bomassCart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
                updateCartUI();
            }

            const savedWishlist = localStorage.getItem('bomassWishlist');
            if (savedWishlist) {
                wishlist = JSON.parse(savedWishlist);
                updateWishlistUI();
            }
        }

        function setupEventListeners() {
            // Mobile menu toggle
            document.getElementById('mobile-menu-btn').addEventListener('click', function() {
                toggleMobileMenu();
            });

            // Auth form submission
            document.getElementById('authForm').addEventListener('submit', handleAuth);

            // Admin form submission
            document.getElementById('adminForm').addEventListener('submit', handleAdminLogin);

            // Donate form submission
            document.getElementById('donateForm').addEventListener('submit', handleDonation);

            // Checkout form submission
            document.getElementById('checkoutForm').addEventListener('submit', function(e) {
                e.preventDefault();
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });

            // Close modals when clicking outside
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('modal-backdrop')) {
                    const modals = ['authModal', 'cartModal', 'checkoutModal', 'donateModal', 'searchModal', 'wishlistModal'];
                    modals.forEach(modalId => {
                        document.getElementById(modalId).classList.add('hidden');
                    });
                }
            });
        }

        // Product data
        // Admin functions
        function showAdminLogin() {
            document.getElementById('adminModal').classList.remove('hidden');
        }

        function handleAdminLogin(e) {
            e.preventDefault();
            
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            
            // Show loading
            showButtonLoader('adminLoginBtn', 'adminLoginSpinner');
            
            // Simulate API call delay
            setTimeout(() => {
                // Check credentials (in real app, this would be server-side)
                if (email === 'admin@bomassstore.com' && password === 'admin123') {
                    hideButtonLoader('adminLoginBtn', 'adminLoginSpinner');
                    closeModal('adminModal');
                    showAdminDashboard();
                } else {
                    hideButtonLoader('adminLoginBtn', 'adminLoginSpinner');
                    showNotification('Invalid admin credentials', 'error');
                }
            }, 2000);
        }

        function showAdminDashboard() {
            showLoader('Loading Admin Dashboard...');
            
            setTimeout(() => {
                hideLoader();
                
                // Create admin dashboard modal
                const modal = document.createElement('div');
                modal.className = 'fixed inset-0 z-50 modal-backdrop';
                modal.innerHTML = `
                    <div class="flex items-center justify-center min-h-screen p-4">
                        <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
                            <div class="p-6 border-b bg-gradient-to-r from-red-500 to-orange-500">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center">
                                        <div class="w-10 h-10 bg-white rounded-lg flex items-center justify-center mr-3">
                                            <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                            </svg>
                                        </div>
                                        <div>
                                            <h2 class="text-2xl font-bold text-white">Admin Dashboard</h2>
                                            <p class="text-white/80">Bomass Store Management</p>
                                        </div>
                                    </div>
                                    <button onclick="this.closest('.modal-backdrop').remove()" class="text-white hover:text-gray-200">
                                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <div class="p-6 max-h-[70vh] overflow-y-auto">
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                                    <div class="bg-blue-50 rounded-lg p-6 text-center">
                                        <div class="text-3xl font-bold text-blue-600">${products.length}</div>
                                        <div class="text-blue-800 font-medium">Total Products</div>
                                    </div>
                                    <div class="bg-green-50 rounded-lg p-6 text-center">
                                        <div class="text-3xl font-bold text-green-600">${JSON.parse(localStorage.getItem('bomassOrders') || '[]').length}</div>
                                        <div class="text-green-800 font-medium">Total Orders</div>
                                    </div>
                                    <div class="bg-purple-50 rounded-lg p-6 text-center">
                                        <div class="text-3xl font-bold text-purple-600">${JSON.parse(localStorage.getItem('bomassDonations') || '[]').length}</div>
                                        <div class="text-purple-800 font-medium">Donations</div>
                                    </div>
                                    <div class="bg-orange-50 rounded-lg p-6 text-center">
                                        <div class="text-3xl font-bold text-orange-600">${getAdminNotifications().filter(n => !n.read).length}</div>
                                        <div class="text-orange-800 font-medium">New Notifications</div>
                                    </div>
                                </div>
                                
                                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                    <div class="bg-gray-50 rounded-lg p-6">
                                        <h3 class="text-lg font-semibold mb-4">Recent Orders</h3>
                                        <div class="space-y-3">
                                            ${JSON.parse(localStorage.getItem('bomassOrders') || '[]').slice(-3).map(order => `
                                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                                    <div>
                                                        <div class="font-medium">${order.id}</div>
                                                        <div class="text-sm text-gray-600">${order.customer.firstName} ${order.customer.lastName}</div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="font-bold">₦${order.total.toLocaleString()}</div>
                                                        <div class="text-sm text-green-600">${order.status}</div>
                                                    </div>
                                                </div>
                                            `).join('') || '<p class="text-gray-500 text-center py-4">No orders yet</p>'}
                                        </div>
                                    </div>
                                    
                                    <div class="bg-gray-50 rounded-lg p-6">
                                        <h3 class="text-lg font-semibold mb-4">Recent Donations</h3>
                                        <div class="space-y-3">
                                            ${JSON.parse(localStorage.getItem('bomassDonations') || '[]').slice(-3).map(donation => `
                                                <div class="flex items-center justify-between p-3 bg-white rounded-lg">
                                                    <div>
                                                        <div class="font-medium">${donation.productName}</div>
                                                        <div class="text-sm text-gray-600">${donation.donorName}</div>
                                                    </div>
                                                    <div class="text-right">
                                                        <div class="text-sm font-medium">${donation.category}</div>
                                                        <div class="text-sm text-blue-600">${donation.condition}</div>
                                                    </div>
                                                </div>
                                            `).join('') || '<p class="text-gray-500 text-center py-4">No donations yet</p>'}
                                        </div>
                                    </div>
                                    
                                    <div class="bg-gray-50 rounded-lg p-6">
                                        <div class="flex items-center justify-between mb-4">
                                            <h3 class="text-lg font-semibold">Notifications</h3>
                                            <span class="bg-orange-500 text-white text-xs px-2 py-1 rounded-full">${getAdminNotifications().filter(n => !n.read).length}</span>
                                        </div>
                                        <div class="space-y-3 max-h-64 overflow-y-auto">
                                            ${getAdminNotifications().slice(0, 5).map(notification => `
                                                <div class="p-3 bg-white rounded-lg border-l-4 ${notification.read ? 'border-gray-300' : 'border-orange-500'}">
                                                    <div class="flex items-start justify-between">
                                                        <div class="flex-1">
                                                            <div class="text-sm font-medium ${notification.read ? 'text-gray-600' : 'text-gray-900'}">${notification.data.message}</div>
                                                            <div class="text-xs text-gray-500 mt-1">${new Date(notification.timestamp).toLocaleString()}</div>
                                                        </div>
                                                        ${!notification.read ? '<div class="w-2 h-2 bg-orange-500 rounded-full ml-2 mt-1"></div>' : ''}
                                                    </div>
                                                </div>
                                            `).join('') || '<p class="text-gray-500 text-center py-4">No notifications</p>'}
                                        </div>
                                        ${getAdminNotifications().length > 5 ? `
                                            <button onclick="showAllNotifications()" class="w-full mt-3 text-sm text-primary hover:text-primary/80 font-medium">
                                                View All Notifications (${getAdminNotifications().length})
                                            </button>
                                        ` : ''}
                                    </div>
                                </div>
                                
                                <div class="mt-8 text-center">
                                    <p class="text-gray-600 mb-4">Admin Dashboard - Full functionality would be implemented in a real application</p>
                                    <div class="flex justify-center space-x-4">
                                        <button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                                            Manage Products
                                        </button>
                                        <button class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600 transition-colors">
                                            View All Orders
                                        </button>
                                        <button class="bg-purple-500 text-white px-6 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                                            Manage Donations
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
                showNotification('Welcome to Admin Dashboard!', 'success');
            }, 1500);
        }

        function loadProducts() {
            showLoader('Loading products...');
            
            // Simulate loading delay
            setTimeout(() => {
                products = [
                // Essential Electronics - Affordable
                {
                    id: 1,
                    name: "Basic Smartphone",
                    category: "electronics",
                    price: 25000,
                    originalPrice: 35000,
                    image: "https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 128,
                    description: "Reliable smartphone for calls, texts, and basic apps - perfect for staying connected",
                    inStock: true,
                    featured: true
                },
                {
                    id: 2,
                    name: "Refurbished Laptop",
                    category: "electronics",
                    price: 45000,
                    originalPrice: 80000,
                    image: "https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 89,
                    description: "Restored laptop perfect for work, study, and internet browsing",
                    inStock: true,
                    featured: true
                },
                {
                    id: 3,
                    name: "Cotton T-Shirt",
                    category: "fashion",
                    price: 1500,
                    originalPrice: 3000,
                    image: "https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 245,
                    description: "Comfortable everyday cotton t-shirt - essential wardrobe item",
                    inStock: true,
                    featured: true
                },
                {
                    id: 4,
                    name: "Wired Earphones",
                    category: "electronics",
                    price: 800,
                    originalPrice: 1500,
                    image: "https://images.unsplash.com/photo-1484704849700-f032a568e944?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 203,
                    description: "Quality wired earphones for music and calls",
                    inStock: true,
                    featured: true
                },
                
                // Clothing Essentials
                {
                    id: 5,
                    name: "Warm Jacket",
                    category: "fashion",
                    price: 3500,
                    originalPrice: 7000,
                    image: "https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 156,
                    description: "Warm winter jacket to keep you comfortable in cold weather",
                    inStock: true,
                    featured: true
                },
                {
                    id: 6,
                    name: "Comfortable Shoes",
                    category: "fashion",
                    price: 2500,
                    originalPrice: 5000,
                    image: "https://images.unsplash.com/photo-1549298916-b41d501d3772?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 192,
                    description: "Durable and comfortable shoes for daily wear",
                    inStock: true,
                    featured: false
                },
                {
                    id: 7,
                    name: "Jeans",
                    category: "fashion",
                    price: 2000,
                    originalPrice: 4500,
                    image: "https://images.unsplash.com/photo-1542272604-787c3835535d?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 167,
                    description: "Classic denim jeans - versatile and long-lasting",
                    inStock: true,
                    featured: false
                },
                {
                    id: 8,
                    name: "Warm Socks (5 pairs)",
                    category: "fashion",
                    price: 500,
                    originalPrice: 1000,
                    image: "https://images.unsplash.com/photo-1586350977771-b3b0abd50c82?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 234,
                    description: "Pack of 5 warm, comfortable socks",
                    inStock: true,
                    featured: false
                },
                
                // Personal Care & Health
                {
                    id: 9,
                    name: "Basic Soap Set",
                    category: "beauty",
                    price: 300,
                    originalPrice: 600,
                    image: "https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 178,
                    description: "Essential soap set for daily hygiene",
                    inStock: true,
                    featured: false
                },
                {
                    id: 10,
                    name: "Toothbrush & Toothpaste",
                    category: "beauty",
                    price: 400,
                    originalPrice: 800,
                    image: "https://images.unsplash.com/photo-1607613009820-a29f7bb81c04?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 289,
                    description: "Essential dental care kit for healthy teeth",
                    inStock: true,
                    featured: false
                },
                {
                    id: 11,
                    name: "Shampoo & Conditioner",
                    category: "beauty",
                    price: 600,
                    originalPrice: 1200,
                    image: "https://images.unsplash.com/photo-1571781926291-c477ebfd024b?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 167,
                    description: "Hair care essentials for clean, healthy hair",
                    inStock: true,
                    featured: false
                },
                
                // Food & Kitchen
                {
                    id: 12,
                    name: "Rice (5kg bag)",
                    category: "home",
                    price: 2500,
                    originalPrice: 3500,
                    image: "https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 345,
                    description: "Quality rice - filling and nutritious staple food",
                    inStock: true,
                    featured: true
                },
                {
                    id: 13,
                    name: "Cooking Oil (1L)",
                    category: "home",
                    price: 800,
                    originalPrice: 1200,
                    image: "https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 234,
                    description: "Essential cooking oil for preparing meals",
                    inStock: true,
                    featured: false
                },
                {
                    id: 14,
                    name: "Basic Cookware Set",
                    category: "home",
                    price: 3000,
                    originalPrice: 6000,
                    image: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 123,
                    description: "Essential pots and pans for cooking meals",
                    inStock: true,
                    featured: false
                },
                {
                    id: 15,
                    name: "Water Bottle",
                    category: "home",
                    price: 200,
                    originalPrice: 500,
                    image: "https://images.unsplash.com/photo-1602143407151-7111542de6e8?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 456,
                    description: "Reusable water bottle - stay hydrated anywhere",
                    inStock: true,
                    featured: false
                },
                
                // Shelter & Comfort
                {
                    id: 16,
                    name: "Warm Blanket",
                    category: "home",
                    price: 1500,
                    originalPrice: 3000,
                    image: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 189,
                    description: "Soft, warm blanket for comfortable sleep",
                    inStock: true,
                    featured: true
                },
                {
                    id: 17,
                    name: "Pillow",
                    category: "home",
                    price: 800,
                    originalPrice: 1500,
                    image: "https://images.unsplash.com/photo-1584100936595-c0654b55a2e2?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 167,
                    description: "Comfortable pillow for better sleep",
                    inStock: true,
                    featured: false
                },
                {
                    id: 18,
                    name: "Flashlight",
                    category: "electronics",
                    price: 500,
                    originalPrice: 1000,
                    image: "https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 234,
                    description: "Reliable flashlight for emergencies and dark areas",
                    inStock: true,
                    featured: false
                },
                
                // Work & Education
                {
                    id: 19,
                    name: "Notebook & Pen Set",
                    category: "books",
                    price: 300,
                    originalPrice: 600,
                    image: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 278,
                    description: "Essential writing materials for work or study",
                    inStock: true,
                    featured: false
                },
                {
                    id: 20,
                    name: "Basic Calculator",
                    category: "electronics",
                    price: 600,
                    originalPrice: 1200,
                    image: "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 145,
                    description: "Simple calculator for basic math and budgeting",
                    inStock: true,
                    featured: false
                },
                
                // Transportation
                {
                    id: 21,
                    name: "Bus/Transport Card",
                    category: "other",
                    price: 1000,
                    image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 567,
                    description: "Prepaid transport card for getting around the city",
                    inStock: true,
                    featured: false
                },
                {
                    id: 22,
                    name: "Bicycle (Used)",
                    category: "sports",
                    price: 15000,
                    originalPrice: 30000,
                    image: "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 89,
                    description: "Refurbished bicycle for affordable transportation",
                    inStock: true,
                    featured: false
                },
                
                // Emergency & Safety
                {
                    id: 23,
                    name: "First Aid Kit",
                    category: "beauty",
                    price: 1200,
                    originalPrice: 2000,
                    image: "https://images.unsplash.com/photo-1603398938425-f0b5ac2b3d15?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 156,
                    description: "Basic first aid supplies for minor injuries",
                    inStock: true,
                    featured: false
                },
                {
                    id: 24,
                    name: "Emergency Food Pack",
                    category: "home",
                    price: 1500,
                    originalPrice: 2500,
                    image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 234,
                    description: "Non-perishable food items for emergency situations",
                    inStock: true,
                    featured: false
                },
                
                // Communication & Connection
                {
                    id: 25,
                    name: "Phone Credit (₦1000)",
                    category: "electronics",
                    price: 1000,
                    image: "https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 789,
                    description: "Mobile phone credit to stay connected with family and friends",
                    inStock: true,
                    featured: false
                },
                {
                    id: 26,
                    name: "Internet Data Bundle",
                    category: "electronics",
                    price: 500,
                    image: "https://images.unsplash.com/photo-1551650975-87deedd944c3?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 456,
                    description: "Mobile data bundle for internet access and communication",
                    inStock: true,
                    featured: false
                },
                
                // Books & Learning
                {
                    id: 27,
                    name: "Basic English Dictionary",
                    category: "books",
                    price: 800,
                    originalPrice: 1500,
                    image: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 123,
                    description: "Essential dictionary for learning and communication",
                    inStock: true,
                    featured: false
                },
                {
                    id: 28,
                    name: "Job Search Guide Book",
                    category: "books",
                    price: 600,
                    originalPrice: 1200,
                    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 89,
                    description: "Practical guide for finding employment opportunities",
                    inStock: true,
                    featured: false
                },
                
                // Tools & Utilities
                {
                    id: 29,
                    name: "Multi-tool Kit",
                    category: "home",
                    price: 1200,
                    originalPrice: 2500,
                    image: "https://images.unsplash.com/photo-1572981779307-38b8cabb2407?w=400&h=400&fit=crop&crop=center",
                    rating: 4,
                    reviews: 167,
                    description: "Basic tools for repairs and maintenance",
                    inStock: true,
                    featured: false
                },
                {
                    id: 30,
                    name: "Backpack",
                    category: "fashion",
                    price: 1800,
                    originalPrice: 3500,
                    image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=400&h=400&fit=crop&crop=center",
                    rating: 5,
                    reviews: 234,
                    description: "Durable backpack for carrying belongings",
                    inStock: true,
                    featured: false
                }
            ];

                filteredProducts = [...products];
                displayProducts();
                hideLoader();
            }, 1000);
        }

        function displayProducts() {
            const productsGrid = document.getElementById('productsGrid');
            const startIndex = (currentPage - 1) * productsPerPage;
            const endIndex = startIndex + productsPerPage;
            const productsToShow = filteredProducts.slice(0, endIndex);

            productsGrid.innerHTML = productsToShow.map(product => `
                <div class="product-card rounded-2xl overflow-hidden card-hover border border-gray-200">
                    <div class="relative">
                        <div class="h-64 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center overflow-hidden">
                            ${product.image.startsWith('http') || product.image.startsWith('data:image') ? 
                                `<img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                                 <div class="text-6xl hidden items-center justify-center w-full h-full">${getEmojiForCategory(product.category)}</div>` : 
                                `<div class="text-6xl">${product.image}</div>`
                            }
                        </div>
                        ${product.isDonated ? `
                            <div class="absolute top-4 left-4 bg-green-500 text-white px-2 py-1 rounded-lg text-sm font-medium">
                                💝 Donated
                            </div>
                        ` : ''}
                        ${product.originalPrice && !product.isDonated ? `
                            <div class="absolute top-4 ${product.isDonated ? 'left-20' : 'left-4'} bg-red-500 text-white px-2 py-1 rounded-lg text-sm font-medium">
                                -${Math.round((1 - product.price / product.originalPrice) * 100)}%
                            </div>
                        ` : ''}
                        ${product.featured ? `
                            <div class="absolute top-4 right-4 bg-blue-500 text-white px-2 py-1 rounded-lg text-sm font-medium">
                                Featured
                            </div>
                        ` : ''}
                        <button onclick="toggleWishlist(${product.id})" class="absolute ${product.featured ? 'top-12 right-4' : 'top-4 right-4'} p-2 bg-white rounded-full shadow-lg hover:bg-gray-50 transition-colors">
                            <svg class="w-5 h-5 ${wishlist.some(item => item.id === product.id) ? 'text-red-500' : 'text-gray-600'}" fill="${wishlist.some(item => item.id === product.id) ? 'currentColor' : 'none'}" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="p-6">
                        <h3 class="font-semibold text-gray-900 mb-2">${product.name}</h3>
                        <p class="text-gray-600 text-sm mb-3">${product.description}</p>
                        ${product.isDonated ? `
                            <div class="bg-green-50 border border-green-200 rounded-lg p-2 mb-3">
                                <p class="text-xs text-green-700">
                                    <span class="font-medium">Donated by:</span> ${product.donorName}
                                </p>
                            </div>
                        ` : ''}
                        <div class="flex items-center mb-3">
                            <div class="flex text-yellow-400">
                                ${'⭐'.repeat(product.rating)}${'☆'.repeat(5 - product.rating)}
                            </div>
                            <span class="text-sm text-gray-600 ml-2">(${product.reviews} reviews)</span>
                        </div>
                        <div class="flex items-center justify-between">
                            <div>
                                ${product.isDonated ? 
                                    `<span class="text-2xl font-bold text-green-600">FREE</span>` :
                                    `<span class="text-2xl font-bold text-gray-900">₦${product.price.toLocaleString()}</span>
                                     ${product.originalPrice ? `<span class="text-sm text-gray-500 line-through ml-2">₦${product.originalPrice.toLocaleString()}</span>` : ''}`
                                }
                            </div>
                            <button onclick="addToCart(${product.id})" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                ${product.isDonated ? 'Claim Free' : 'Add to Cart'}
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterByCategory(category) {
            document.getElementById('categoryFilter').value = category;
            filterProducts();
            document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
        }

        function filterProducts() {
            const category = document.getElementById('categoryFilter').value;
            if (category) {
                filteredProducts = products.filter(product => product.category === category);
            } else {
                filteredProducts = [...products];
            }
            currentPage = 1;
            displayProducts();
        }

        function sortProducts() {
            const sortBy = document.getElementById('sortFilter').value;
            
            switch (sortBy) {
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'rating':
                    filteredProducts.sort((a, b) => b.rating - a.rating);
                    break;
                case 'newest':
                    filteredProducts.sort((a, b) => b.id - a.id);
                    break;
                default:
                    filteredProducts.sort((a, b) => b.featured - a.featured);
            }
            
            displayProducts();
        }

        function loadMoreProducts() {
            currentPage++;
            displayProducts();
        }

        function addToCart(productId) {
            if (!currentUser) {
                showNotification('Please sign in to add items to cart', 'warning');
                showAuthModal();
                return;
            }

            const product = products.find(p => p.id === productId);
            
            // Show brief loading for better UX
            showLoader('Adding to cart...');
            
            setTimeout(() => {
                const existingItem = cart.find(item => item.id === productId);

                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }

                localStorage.setItem('bomassCart', JSON.stringify(cart));
                updateCartUI();
                hideLoader();
                showNotification(`${product.name} added to cart!`, 'success');
            }, 500);
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('bomassCart', JSON.stringify(cart));
            updateCartUI();
            displayCartItems();
        }

        function updateCartQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    localStorage.setItem('bomassCart', JSON.stringify(cart));
                    updateCartUI();
                    displayCartItems();
                }
            }
        }

        function updateCartUI() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            document.getElementById('cartCount').textContent = cartCount;
            document.getElementById('mobileCartCount').textContent = cartCount;
        }

        function toggleWishlist(productId) {
            if (!currentUser) {
                showNotification('Please sign in to add items to wishlist', 'warning');
                showAuthModal();
                return;
            }

            const product = products.find(p => p.id === productId);
            const existingIndex = wishlist.findIndex(item => item.id === productId);

            if (existingIndex > -1) {
                wishlist.splice(existingIndex, 1);
                showNotification(`${product.name} removed from wishlist`, 'info');
            } else {
                wishlist.push(product);
                showNotification(`${product.name} added to wishlist!`, 'success');
            }

            localStorage.setItem('bomassWishlist', JSON.stringify(wishlist));
            updateWishlistUI();
            displayProducts(); // Refresh to update heart icons
        }

        function updateWishlistUI() {
            document.getElementById('wishlistCount').textContent = wishlist.length;
            document.getElementById('mobileWishlistCount').textContent = wishlist.length;
        }

        // Modal functions
        function showAuthModal() {
            document.getElementById('authModal').classList.remove('hidden');
        }

        function showCart() {
            if (!currentUser) {
                showNotification('Please sign in to view cart', 'warning');
                showAuthModal();
                return;
            }
            document.getElementById('cartModal').classList.remove('hidden');
            displayCartItems();
        }

        function showWishlist() {
            if (!currentUser) {
                showNotification('Please sign in to view wishlist', 'warning');
                showAuthModal();
                return;
            }
            document.getElementById('wishlistModal').classList.remove('hidden');
            displayWishlistItems();
        }

        function showDonateModal() {
            document.getElementById('donateModal').classList.remove('hidden');
        }

        function showSearchModal() {
            document.getElementById('searchModal').classList.remove('hidden');
            document.getElementById('searchInput').focus();
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }

        function displayCartItems() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');

            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-6xl mb-4">🛒</div>
                        <p class="text-gray-500">Your cart is empty</p>
                        <button onclick="closeModal('cartModal')" class="mt-4 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                            Continue Shopping
                        </button>
                    </div>
                `;
                cartTotal.textContent = '₦0';
                return;
            }

            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotal.textContent = `₦${total.toLocaleString()}`;

            cartItems.innerHTML = cart.map(item => `
                <div class="flex items-center space-x-4 p-4 border-b border-gray-200">
                    <div class="text-4xl">${item.image}</div>
                    <div class="flex-1">
                        <h4 class="font-semibold text-gray-900">${item.name}</h4>
                        <p class="text-gray-600">₦${item.price.toLocaleString()}</p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <button onclick="updateCartQuantity(${item.id}, -1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">-</button>
                        <span class="w-8 text-center">${item.quantity}</span>
                        <button onclick="updateCartQuantity(${item.id}, 1)" class="w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300">+</button>
                    </div>
                    <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        function displayWishlistItems() {
            const wishlistItems = document.getElementById('wishlistItems');

            if (wishlist.length === 0) {
                wishlistItems.innerHTML = `
                    <div class="text-center py-8">
                        <div class="text-6xl mb-4">💝</div>
                        <p class="text-gray-500">Your wishlist is empty</p>
                        <button onclick="closeModal('wishlistModal')" class="mt-4 bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                            Continue Shopping
                        </button>
                    </div>
                `;
                return;
            }

            wishlistItems.innerHTML = wishlist.map(item => `
                <div class="flex items-center space-x-4 p-4 border-b border-gray-200">
                    <div class="text-4xl">${item.image}</div>
                    <div class="flex-1">
                        <h4 class="font-semibold text-gray-900">${item.name}</h4>
                        <p class="text-gray-600">₦${item.price.toLocaleString()}</p>
                        <div class="flex text-yellow-400 text-sm">
                            ${'⭐'.repeat(item.rating)}
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button onclick="addToCart(${item.id})" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                            Add to Cart
                        </button>
                        <button onclick="toggleWishlist(${item.id})" class="text-red-500 hover:text-red-700">
                            <svg class="w-5 h-5" fill="currentColor" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                showNotification('Your cart is empty', 'warning');
                return;
            }

            closeModal('cartModal');
            document.getElementById('checkoutModal').classList.remove('hidden');
            displayCheckoutSummary();

            // Pre-fill user information if logged in
            if (currentUser) {
                document.getElementById('checkoutEmail').value = currentUser.email;
                if (currentUser.name) {
                    const nameParts = currentUser.name.split(' ');
                    document.getElementById('firstName').value = nameParts[0] || '';
                    document.getElementById('lastName').value = nameParts.slice(1).join(' ') || '';
                }
            }
        }

        function displayCheckoutSummary() {
            const checkoutSummary = document.getElementById('checkoutSummary');
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal >= 5000 ? 0 : 500;
            const total = subtotal + shipping;

            checkoutSummary.innerHTML = `
                <div class="space-y-4">
                    ${cart.map(item => `
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-3">
                                <span class="text-2xl">${item.image}</span>
                                <div>
                                    <p class="font-medium">${item.name}</p>
                                    <p class="text-sm text-gray-600">Qty: ${item.quantity}</p>
                                </div>
                            </div>
                            <span class="font-medium">₦${(item.price * item.quantity).toLocaleString()}</span>
                        </div>
                    `).join('')}
                    <hr class="my-4">
                    <div class="flex justify-between">
                        <span>Subtotal:</span>
                        <span>₦${subtotal.toLocaleString()}</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Shipping:</span>
                        <span>${shipping === 0 ? 'Free' : '₦' + shipping.toLocaleString()}</span>
                    </div>
                    <hr class="my-4">
                    <div class="flex justify-between text-lg font-bold">
                        <span>Total:</span>
                        <span>₦${total.toLocaleString()}</span>
                    </div>
                </div>
            `;
        }

        function placeOrder() {
            const form = document.getElementById('checkoutForm');
            const formData = new FormData(form);
            
            // Validate required fields
            const requiredFields = ['firstName', 'lastName', 'checkoutEmail', 'phone', 'address', 'city', 'state'];
            let isValid = true;
            
            requiredFields.forEach(field => {
                const input = document.getElementById(field);
                if (!input.value.trim()) {
                    input.classList.add('border-red-500');
                    isValid = false;
                } else {
                    input.classList.remove('border-red-500');
                }
            });

            const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked');
            if (!paymentMethod) {
                showNotification('Please select a payment method', 'warning');
                return;
            }

            if (!isValid) {
                showNotification('Please fill in all required fields', 'warning');
                return;
            }

            // Show processing loader
            showLoader('Processing your order...');

            // Simulate order processing delay
            setTimeout(() => {
                // Generate order ID
                const orderId = 'ORD-' + Date.now();
            
            // Create order object
            const order = {
                id: orderId,
                items: [...cart],
                customer: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value,
                    email: document.getElementById('checkoutEmail').value,
                    phone: document.getElementById('phone').value,
                    address: document.getElementById('address').value,
                    city: document.getElementById('city').value,
                    state: document.getElementById('state').value
                },
                paymentMethod: paymentMethod.value,
                subtotal: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                shipping: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) >= 5000 ? 0 : 500,
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) + (cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) >= 5000 ? 0 : 500),
                status: 'pending',
                date: new Date().toISOString()
            };

            // Save order to localStorage
            const orders = JSON.parse(localStorage.getItem('bomassOrders') || '[]');
            orders.push(order);
            localStorage.setItem('bomassOrders', JSON.stringify(orders));

                // Clear cart
                cart = [];
                localStorage.setItem('bomassCart', JSON.stringify(cart));
                updateCartUI();

                // Close modal and show success
                hideLoader();
                closeModal('checkoutModal');
                showOrderConfirmation(order);
            }, 2000);
        }

        function showOrderConfirmation(order) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 modal-backdrop';
            modal.innerHTML = `
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center">
                        <div class="text-6xl mb-4">🎉</div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">Order Placed Successfully!</h2>
                        <p class="text-gray-600 mb-6">Thank you for your order. Your order ID is:</p>
                        <div class="bg-gray-100 rounded-lg p-4 mb-6">
                            <span class="font-mono text-lg font-bold">${order.id}</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-6">
                            You will receive a confirmation email shortly. We'll notify you when your order is shipped.
                        </p>
                        <button onclick="this.closest('.modal-backdrop').remove()" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                            Continue Shopping
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Authentication functions
        function switchAuthTab(tab) {
            const signinTab = document.getElementById('signinTab');
            const signupTab = document.getElementById('signupTab');
            const nameField = document.getElementById('nameField');
            const confirmPasswordField = document.getElementById('confirmPasswordField');
            const authTitle = document.getElementById('authTitle');
            const authSubmitText = document.getElementById('authSubmitText');

            if (tab === 'signin') {
                signinTab.classList.add('bg-white', 'text-primary', 'shadow-sm');
                signinTab.classList.remove('text-gray-600');
                signupTab.classList.remove('bg-white', 'text-primary', 'shadow-sm');
                signupTab.classList.add('text-gray-600');
                nameField.classList.add('hidden');
                confirmPasswordField.classList.add('hidden');
                authTitle.textContent = 'Welcome Back';
                authSubmitText.textContent = 'Sign In';
            } else {
                signupTab.classList.add('bg-white', 'text-primary', 'shadow-sm');
                signupTab.classList.remove('text-gray-600');
                signinTab.classList.remove('bg-white', 'text-primary', 'shadow-sm');
                signinTab.classList.add('text-gray-600');
                nameField.classList.remove('hidden');
                confirmPasswordField.classList.remove('hidden');
                authTitle.textContent = 'Create Account';
                authSubmitText.textContent = 'Sign Up';
            }
        }

        function handleAuth(e) {
            e.preventDefault();
            
            const isSignUp = !document.getElementById('nameField').classList.contains('hidden');
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const fullName = document.getElementById('fullName').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (isSignUp) {
                if (password !== confirmPassword) {
                    showNotification('Passwords do not match', 'error');
                    return;
                }
                if (password.length < 6) {
                    showNotification('Password must be at least 6 characters', 'error');
                    return;
                }
            }

            // Simulate authentication (in real app, this would be an API call)
            const user = {
                id: Date.now(),
                name: fullName || email.split('@')[0],
                email: email,
                joinDate: new Date().toISOString()
            };

            currentUser = user;
            localStorage.setItem('bomassUser', JSON.stringify(user));
            
            updateAuthUI();
            closeModal('authModal');
            showNotification(`Welcome ${user.name}!`, 'success');
        }

        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenu.classList.toggle('hidden');
        }

        function updateAuthUI() {
            const authBtn = document.getElementById('authBtn');
            const userMenu = document.getElementById('userMenu');
            const userName = document.getElementById('userName');
            const userInitials = document.getElementById('userInitials');
            
            // Mobile elements
            const mobileAuthBtn = document.getElementById('mobileAuthBtn');
            const mobileUserMenu = document.getElementById('mobileUserMenu');
            const mobileUserName = document.getElementById('mobileUserName');
            const mobileUserInitials = document.getElementById('mobileUserInitials');

            if (currentUser) {
                // Desktop
                authBtn.classList.add('hidden');
                userMenu.classList.remove('hidden');
                userName.textContent = currentUser.name;
                userInitials.textContent = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
                
                // Mobile
                mobileAuthBtn.classList.add('hidden');
                mobileUserMenu.classList.remove('hidden');
                mobileUserName.textContent = currentUser.name;
                mobileUserInitials.textContent = currentUser.name.split(' ').map(n => n[0]).join('').toUpperCase();
            } else {
                // Desktop
                authBtn.classList.remove('hidden');
                userMenu.classList.add('hidden');
                
                // Mobile
                mobileAuthBtn.classList.remove('hidden');
                mobileUserMenu.classList.add('hidden');
            }
        }

        function toggleUserMenu() {
            document.getElementById('userDropdown').classList.toggle('hidden');
        }

        function logout() {
            currentUser = null;
            cart = [];
            wishlist = [];
            localStorage.removeItem('bomassUser');
            localStorage.removeItem('bomassCart');
            localStorage.removeItem('bomassWishlist');
            updateAuthUI();
            updateCartUI();
            updateWishlistUI();
            document.getElementById('userDropdown').classList.add('hidden');
            showNotification('Logged out successfully', 'info');
        }

        // Image upload handler
        function handleImageUpload(input) {
            const files = Array.from(input.files);
            const imagePreview = document.getElementById('imagePreview');
            const imageUploadArea = document.getElementById('imageUploadArea');
            
            if (files.length > 5) {
                showNotification('Maximum 5 images allowed', 'warning');
                input.value = '';
                return;
            }
            
            // Clear previous previews
            imagePreview.innerHTML = '';
            
            if (files.length > 0) {
                imagePreview.classList.remove('hidden');
                imageUploadArea.style.display = 'none';
                
                files.forEach((file, index) => {
                    if (file.size > 10 * 1024 * 1024) {
                        showNotification(`Image ${index + 1} is too large. Max 10MB per image.`, 'warning');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const imageDiv = document.createElement('div');
                        imageDiv.className = 'relative group';
                        imageDiv.innerHTML = `
                            <img src="${e.target.result}" alt="Product image ${index + 1}" class="w-full h-24 object-cover rounded-lg border">
                            <button type="button" onclick="removeImage(${index})" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600 opacity-0 group-hover:opacity-100 transition-opacity">
                                ×
                            </button>
                        `;
                        imagePreview.appendChild(imageDiv);
                    };
                    reader.readAsDataURL(file);
                });
                
                // Add option to add more images
                if (files.length < 5) {
                    const addMoreDiv = document.createElement('div');
                    addMoreDiv.className = 'border-2 border-dashed border-gray-300 rounded-lg h-24 flex items-center justify-center cursor-pointer hover:border-primary transition-colors';
                    addMoreDiv.onclick = () => document.getElementById('donateImages').click();
                    addMoreDiv.innerHTML = `
                        <div class="text-center">
                            <svg class="w-6 h-6 mx-auto text-gray-400 mb-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            <p class="text-xs text-gray-500">Add more</p>
                        </div>
                    `;
                    imagePreview.appendChild(addMoreDiv);
                }
            } else {
                imagePreview.classList.add('hidden');
                imageUploadArea.style.display = 'block';
            }
        }
        
        function removeImage(index) {
            const input = document.getElementById('donateImages');
            const dt = new DataTransfer();
            const files = Array.from(input.files);
            
            files.forEach((file, i) => {
                if (i !== index) {
                    dt.items.add(file);
                }
            });
            
            input.files = dt.files;
            handleImageUpload(input);
        }

        // Donation functions
        function handleDonation(e) {
            e.preventDefault();
            
            const images = Array.from(document.getElementById('donateImages').files);
            const imageData = [];
            
            // Convert images to base64 for storage
            const processImages = async () => {
                for (const file of images) {
                    const base64 = await new Promise((resolve) => {
                        const reader = new FileReader();
                        reader.onload = () => resolve(reader.result);
                        reader.readAsDataURL(file);
                    });
                    imageData.push({
                        name: file.name,
                        data: base64,
                        size: file.size
                    });
                }
                
                const donationData = {
                    productName: document.getElementById('donateProductName').value,
                    category: document.getElementById('donateCategory').value,
                    condition: document.getElementById('donateCondition').value,
                    description: document.getElementById('donateDescription').value,
                    donorName: document.getElementById('donorName').value,
                    donorEmail: document.getElementById('donorEmail').value,
                    donorPhone: document.getElementById('donorPhone').value,
                    pickupLocation: document.getElementById('pickupLocation').value,
                    images: imageData,
                    submissionDate: new Date().toISOString(),
                    id: 'DON-' + Date.now(),
                    status: 'pending'
                };

                // Save donation to localStorage
                const donations = JSON.parse(localStorage.getItem('bomassDonations') || '[]');
                donations.push(donationData);
                localStorage.setItem('bomassDonations', JSON.stringify(donations));
                
                // Add admin notification for new donation
                addAdminNotification('donation', {
                    type: 'new_donation',
                    donationId: donationData.id,
                    productName: donationData.productName,
                    donorName: donationData.donorName,
                    category: donationData.category,
                    message: `New product donation: ${donationData.productName} from ${donationData.donorName}`,
                    timestamp: new Date().toISOString()
                });
                
                // Add to featured products after approval simulation
                setTimeout(() => {
                    addDonationToProducts(donationData);
                    
                    // Add notification when product goes live
                    addAdminNotification('product_live', {
                        type: 'donation_approved',
                        donationId: donationData.id,
                        productName: donationData.productName,
                        message: `Donated product "${donationData.productName}" is now live on the store`,
                        timestamp: new Date().toISOString()
                    });
                }, 2000);

                closeModal('donateModal');
                showDonationConfirmation(donationData);
                
                // Reset form
                document.getElementById('donateForm').reset();
                document.getElementById('imagePreview').classList.add('hidden');
                document.getElementById('imageUploadArea').style.display = 'block';
            };
            
            processImages();
        }
        
        function addDonationToProducts(donation) {
            // Create a new product from donation
            const newProduct = {
                id: products.length + 1,
                name: donation.productName,
                category: donation.category,
                price: 0, // Donated products are free
                originalPrice: null,
                image: donation.images.length > 0 ? donation.images[0].data : getEmojiForCategory(donation.category),
                rating: 5,
                reviews: 0,
                description: donation.description + " (Donated Product)",
                inStock: true,
                featured: true,
                isDonated: true,
                donorName: donation.donorName,
                donationId: donation.id
            };
            
            products.unshift(newProduct); // Add to beginning of array
            filteredProducts = [...products];
            displayProducts();
            
            showNotification(`${donation.productName} has been added to featured products!`, 'success');
        }
        
        function getEmojiForCategory(category) {
            const categoryEmojis = {
                'electronics': '📱',
                'fashion': '👕',
                'home': '🏠',
                'beauty': '💄',
                'sports': '⚽',
                'books': '📚',
                'toys': '🧸',
                'other': '📦'
            };
            return categoryEmojis[category] || '📦';
        }

        function showDonationConfirmation(donation) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 modal-backdrop';
            modal.innerHTML = `
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center">
                        <div class="text-6xl mb-4">🙏</div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-4">Thank You for Your Generosity!</h2>
                        <p class="text-gray-600 mb-6">Your donation request has been submitted successfully.</p>
                        <div class="bg-gray-100 rounded-lg p-4 mb-6">
                            <p class="font-medium">Donation ID:</p>
                            <span class="font-mono text-lg font-bold">${donation.id}</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-6">
                            We'll review your donation and contact you within 24-48 hours to arrange pickup.
                        </p>
                        <button onclick="this.closest('.modal-backdrop').remove()" class="w-full bg-primary text-white py-3 rounded-lg font-medium hover:bg-primary/90 transition-colors">
                            Close
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Search functions
        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const searchResults = document.getElementById('searchResults');

            if (query.length < 2) {
                searchResults.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <svg class="w-12 h-12 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                        <p>Start typing to search for products...</p>
                    </div>
                `;
                return;
            }

            const results = products.filter(product => 
                product.name.toLowerCase().includes(query) ||
                product.description.toLowerCase().includes(query) ||
                product.category.toLowerCase().includes(query)
            );

            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="text-center text-gray-500 py-8">
                        <svg class="w-12 h-12 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 15c-2.34 0-4.29-1.582-4.29-3.53"></path>
                        </svg>
                        <p>No products found for "${query}"</p>
                    </div>
                `;
                return;
            }

            searchResults.innerHTML = results.map(product => `
                <div class="flex items-center space-x-4 p-4 hover:bg-gray-50 cursor-pointer" onclick="closeModal('searchModal'); document.getElementById('products').scrollIntoView({behavior: 'smooth'});">
                    <div class="text-3xl">${product.image}</div>
                    <div class="flex-1">
                        <h4 class="font-semibold text-gray-900">${product.name}</h4>
                        <p class="text-sm text-gray-600">${product.description}</p>
                        <p class="text-lg font-bold text-primary">₦${product.price.toLocaleString()}</p>
                    </div>
                </div>
            `).join('');
        }

        // Newsletter subscription
        function subscribeNewsletter() {
            const email = document.getElementById('newsletterEmail').value;
            
            if (!email || !email.includes('@')) {
                showNotification('Please enter a valid email address', 'warning');
                return;
            }

            // Save subscription to localStorage
            const subscriptions = JSON.parse(localStorage.getItem('bomassSubscriptions') || '[]');
            if (!subscriptions.includes(email)) {
                subscriptions.push({
                    email: email,
                    subscribeDate: new Date().toISOString(),
                    id: 'SUB-' + Date.now()
                });
                localStorage.setItem('bomassSubscriptions', JSON.stringify(subscriptions));
                
                // Add admin notification
                addAdminNotification('newsletter', {
                    type: 'newsletter_subscription',
                    email: email,
                    message: `New newsletter subscription from ${email}`,
                    timestamp: new Date().toISOString()
                });
                
                showNotification('Successfully subscribed to newsletter!', 'success');
                document.getElementById('newsletterEmail').value = '';
            } else {
                showNotification('Email already subscribed', 'info');
            }
        }
        
        // Admin notification system
        function addAdminNotification(type, data) {
            const notifications = JSON.parse(localStorage.getItem('bomassAdminNotifications') || '[]');
            const notification = {
                id: 'NOTIF-' + Date.now(),
                type: type,
                data: data,
                timestamp: new Date().toISOString(),
                read: false
            };
            
            notifications.unshift(notification); // Add to beginning
            
            // Keep only last 50 notifications
            if (notifications.length > 50) {
                notifications.splice(50);
            }
            
            localStorage.setItem('bomassAdminNotifications', JSON.stringify(notifications));
        }
        
        function getAdminNotifications() {
            return JSON.parse(localStorage.getItem('bomassAdminNotifications') || '[]');
        }
        
        function markNotificationAsRead(notificationId) {
            const notifications = getAdminNotifications();
            const notification = notifications.find(n => n.id === notificationId);
            if (notification) {
                notification.read = true;
                localStorage.setItem('bomassAdminNotifications', JSON.stringify(notifications));
            }
        }

        // Notification system
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            
            // Update notification style based on type
            notification.className = `notification bg-white rounded-lg shadow-lg p-4 border-l-4 max-w-sm`;
            
            switch (type) {
                case 'success':
                    notification.classList.add('border-green-500');
                    break;
                case 'error':
                    notification.classList.add('border-red-500');
                    break;
                case 'warning':
                    notification.classList.add('border-yellow-500');
                    break;
                case 'info':
                    notification.classList.add('border-blue-500');
                    break;
            }
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 4000);
        }

        function hideNotification() {
            document.getElementById('notification').classList.remove('show');
        }

        // Additional utility functions
        function showProfile() {
            // Implementation for profile modal
            showNotification('Profile feature coming soon!', 'info');
        }

        function showOrders() {
            if (!currentUser) {
                showNotification('Please sign in to view orders', 'warning');
                showAuthModal();
                return;
            }
            
            const orders = JSON.parse(localStorage.getItem('bomassOrders') || '[]');
            const userOrders = orders.filter(order => order.customer.email === currentUser.email);
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 modal-backdrop';
            modal.innerHTML = `
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
                        <div class="p-6 border-b">
                            <div class="flex items-center justify-between">
                                <h2 class="text-2xl font-bold text-gray-800">My Orders</h2>
                                <button onclick="this.closest('.modal-backdrop').remove()" class="text-gray-400 hover:text-gray-600">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-6 max-h-[70vh] overflow-y-auto">
                            ${userOrders.length === 0 ? `
                                <div class="text-center py-12">
                                    <div class="text-6xl mb-4">📦</div>
                                    <h3 class="text-xl font-semibold text-gray-800 mb-2">No Orders Yet</h3>
                                    <p class="text-gray-600 mb-6">You haven't placed any orders yet. Start shopping to see your orders here!</p>
                                    <button onclick="this.closest('.modal-backdrop').remove(); document.getElementById('products').scrollIntoView({behavior: 'smooth'});" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors">
                                        Start Shopping
                                    </button>
                                </div>
                            ` : `
                                <div class="space-y-6">
                                    ${userOrders.map(order => `
                                        <div class="border border-gray-200 rounded-lg p-6">
                                            <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-4">
                                                <div>
                                                    <h3 class="text-lg font-semibold text-gray-900">Order ${order.id}</h3>
                                                    <p class="text-sm text-gray-600">Placed on ${new Date(order.date).toLocaleDateString()}</p>
                                                </div>
                                                <div class="mt-2 md:mt-0">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${
                                                        order.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :
                                                        order.status === 'processing' ? 'bg-blue-100 text-blue-800' :
                                                        order.status === 'shipped' ? 'bg-purple-100 text-purple-800' :
                                                        order.status === 'delivered' ? 'bg-green-100 text-green-800' :
                                                        'bg-gray-100 text-gray-800'
                                                    }">
                                                        ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                                                    </span>
                                                </div>
                                            </div>
                                            
                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                <div>
                                                    <h4 class="font-medium text-gray-900 mb-3">Items Ordered</h4>
                                                    <div class="space-y-2">
                                                        ${order.items.map(item => `
                                                            <div class="flex items-center space-x-3">
                                                                <span class="text-2xl">${item.image}</span>
                                                                <div class="flex-1">
                                                                    <p class="text-sm font-medium text-gray-900">${item.name}</p>
                                                                    <p class="text-sm text-gray-600">Qty: ${item.quantity} × ₦${item.price.toLocaleString()}</p>
                                                                </div>
                                                                <span class="text-sm font-medium">₦${(item.price * item.quantity).toLocaleString()}</span>
                                                            </div>
                                                        `).join('')}
                                                    </div>
                                                </div>
                                                
                                                <div>
                                                    <h4 class="font-medium text-gray-900 mb-3">Order Summary</h4>
                                                    <div class="space-y-2 text-sm">
                                                        <div class="flex justify-between">
                                                            <span>Subtotal:</span>
                                                            <span>₦${order.subtotal.toLocaleString()}</span>
                                                        </div>
                                                        <div class="flex justify-between">
                                                            <span>Shipping:</span>
                                                            <span>${order.shipping === 0 ? 'Free' : '₦' + order.shipping.toLocaleString()}</span>
                                                        </div>
                                                        <div class="flex justify-between font-semibold text-base border-t pt-2">
                                                            <span>Total:</span>
                                                            <span>₦${order.total.toLocaleString()}</span>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="mt-4">
                                                        <h5 class="font-medium text-gray-900 mb-2">Delivery Address</h5>
                                                        <p class="text-sm text-gray-600">
                                                            ${order.customer.firstName} ${order.customer.lastName}<br>
                                                            ${order.customer.address}<br>
                                                            ${order.customer.city}, ${order.customer.state}<br>
                                                            ${order.customer.phone}
                                                        </p>
                                                    </div>
                                                    
                                                    <div class="mt-4">
                                                        <h5 class="font-medium text-gray-900 mb-2">Payment Method</h5>
                                                        <p class="text-sm text-gray-600">
                                                            ${order.paymentMethod === 'card' ? '💳 Credit/Debit Card' :
                                                              order.paymentMethod === 'transfer' ? '🏦 Bank Transfer' :
                                                              '💰 Cash on Delivery'}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6 flex flex-col sm:flex-row gap-3">
                                                <button onclick="trackOrder('${order.id}')" class="flex-1 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm">
                                                    Track Order
                                                </button>
                                                <button onclick="reorderItems('${order.id}')" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm">
                                                    Reorder Items
                                                </button>
                                                ${order.status === 'delivered' ? `
                                                    <button onclick="leaveReview('${order.id}')" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm">
                                                        Leave Review
                                                    </button>
                                                ` : ''}
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            `}
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showDonations() {
            if (!currentUser) {
                showNotification('Please sign in to view donations', 'warning');
                showAuthModal();
                return;
            }
            
            const donations = JSON.parse(localStorage.getItem('bomassDonations') || '[]');
            const userDonations = donations.filter(donation => donation.donorEmail === currentUser.email);
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 modal-backdrop';
            modal.innerHTML = `
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
                        <div class="p-6 border-b">
                            <div class="flex items-center justify-between">
                                <h2 class="text-2xl font-bold text-gray-800">My Donations</h2>
                                <button onclick="this.closest('.modal-backdrop').remove()" class="text-gray-400 hover:text-gray-600">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-6 max-h-[70vh] overflow-y-auto">
                            ${userDonations.length === 0 ? `
                                <div class="text-center py-12">
                                    <div class="text-6xl mb-4">💝</div>
                                    <h3 class="text-xl font-semibold text-gray-800 mb-2">No Donations Yet</h3>
                                    <p class="text-gray-600 mb-6">You haven't made any donations yet. Share the joy by donating products you no longer need!</p>
                                    <button onclick="this.closest('.modal-backdrop').remove(); showDonateModal();" class="bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition-colors">
                                        Donate Now
                                    </button>
                                </div>
                            ` : `
                                <div class="space-y-6">
                                    ${userDonations.map(donation => `
                                        <div class="border border-gray-200 rounded-lg p-6">
                                            <div class="flex flex-col md:flex-row md:items-start md:justify-between mb-4">
                                                <div class="flex-1">
                                                    <h3 class="text-lg font-semibold text-gray-900">${donation.productName}</h3>
                                                    <p class="text-sm text-gray-600">Donated on ${new Date(donation.submissionDate).toLocaleDateString()}</p>
                                                    <p class="text-sm text-gray-600">Donation ID: ${donation.id}</p>
                                                </div>
                                                <div class="mt-2 md:mt-0">
                                                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${
                                                        donation.status === 'pending' ? 'bg-yellow-100 text-yellow-800' :
                                                        donation.status === 'approved' ? 'bg-green-100 text-green-800' :
                                                        donation.status === 'picked_up' ? 'bg-blue-100 text-blue-800' :
                                                        donation.status === 'live' ? 'bg-purple-100 text-purple-800' :
                                                        'bg-gray-100 text-gray-800'
                                                    }">
                                                        ${donation.status === 'pending' ? '⏳ Pending Review' :
                                                          donation.status === 'approved' ? '✅ Approved' :
                                                          donation.status === 'picked_up' ? '📦 Picked Up' :
                                                          donation.status === 'live' ? '🌟 Live on Store' :
                                                          donation.status.charAt(0).toUpperCase() + donation.status.slice(1)}
                                                    </span>
                                                </div>
                                            </div>
                                            
                                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                <div>
                                                    <h4 class="font-medium text-gray-900 mb-3">Product Details</h4>
                                                    <div class="space-y-2 text-sm">
                                                        <div class="flex justify-between">
                                                            <span class="text-gray-600">Category:</span>
                                                            <span class="font-medium">${donation.category.charAt(0).toUpperCase() + donation.category.slice(1)}</span>
                                                        </div>
                                                        <div class="flex justify-between">
                                                            <span class="text-gray-600">Condition:</span>
                                                            <span class="font-medium">${donation.condition.charAt(0).toUpperCase() + donation.condition.slice(1)}</span>
                                                        </div>
                                                        <div class="flex justify-between">
                                                            <span class="text-gray-600">Images:</span>
                                                            <span class="font-medium">${donation.images.length} uploaded</span>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="mt-4">
                                                        <h5 class="font-medium text-gray-900 mb-2">Description</h5>
                                                        <p class="text-sm text-gray-600">${donation.description}</p>
                                                    </div>
                                                    
                                                    ${donation.images.length > 0 ? `
                                                        <div class="mt-4">
                                                            <h5 class="font-medium text-gray-900 mb-2">Product Images</h5>
                                                            <div class="grid grid-cols-3 gap-2">
                                                                ${donation.images.slice(0, 3).map(image => `
                                                                    <img src="${image.data}" alt="Product image" class="w-full h-16 object-cover rounded-lg border">
                                                                `).join('')}
                                                                ${donation.images.length > 3 ? `
                                                                    <div class="w-full h-16 bg-gray-100 rounded-lg border flex items-center justify-center text-xs text-gray-500">
                                                                        +${donation.images.length - 3} more
                                                                    </div>
                                                                ` : ''}
                                                            </div>
                                                        </div>
                                                    ` : ''}
                                                </div>
                                                
                                                <div>
                                                    <h4 class="font-medium text-gray-900 mb-3">Pickup Information</h4>
                                                    <div class="space-y-2 text-sm">
                                                        <div>
                                                            <span class="text-gray-600">Contact:</span>
                                                            <p class="font-medium">${donation.donorName}</p>
                                                            <p class="text-gray-600">${donation.donorPhone}</p>
                                                        </div>
                                                        <div>
                                                            <span class="text-gray-600">Pickup Address:</span>
                                                            <p class="font-medium">${donation.pickupLocation}</p>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="mt-4">
                                                        <h5 class="font-medium text-gray-900 mb-2">Status Timeline</h5>
                                                        <div class="space-y-2">
                                                            <div class="flex items-center text-sm">
                                                                <div class="w-2 h-2 bg-green-500 rounded-full mr-3"></div>
                                                                <span class="text-gray-600">Donation submitted</span>
                                                            </div>
                                                            ${donation.status !== 'pending' ? `
                                                                <div class="flex items-center text-sm">
                                                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-3"></div>
                                                                    <span class="text-gray-600">Review completed</span>
                                                                </div>
                                                            ` : `
                                                                <div class="flex items-center text-sm">
                                                                    <div class="w-2 h-2 bg-gray-300 rounded-full mr-3"></div>
                                                                    <span class="text-gray-400">Pending review</span>
                                                                </div>
                                                            `}
                                                            ${donation.status === 'picked_up' || donation.status === 'live' ? `
                                                                <div class="flex items-center text-sm">
                                                                    <div class="w-2 h-2 bg-green-500 rounded-full mr-3"></div>
                                                                    <span class="text-gray-600">Product picked up</span>
                                                                </div>
                                                            ` : `
                                                                <div class="flex items-center text-sm">
                                                                    <div class="w-2 h-2 bg-gray-300 rounded-full mr-3"></div>
                                                                    <span class="text-gray-400">Awaiting pickup</span>
                                                                </div>
                                                            `}
                                                            ${donation.status === 'live' ? `
                                                                <div class="flex items-center text-sm">
                                                                    <div class="w-2 h-2 bg-purple-500 rounded-full mr-3"></div>
                                                                    <span class="text-purple-600 font-medium">Live on store!</span>
                                                                </div>
                                                            ` : ''}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <div class="mt-6 flex flex-col sm:flex-row gap-3">
                                                ${donation.status === 'live' ? `
                                                    <button onclick="viewDonatedProduct('${donation.id}')" class="flex-1 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors text-sm">
                                                        View on Store
                                                    </button>
                                                ` : ''}
                                                <button onclick="contactSupport('${donation.id}')" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm">
                                                    Contact Support
                                                </button>
                                                ${donation.status === 'pending' ? `
                                                    <button onclick="editDonation('${donation.id}')" class="flex-1 border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors text-sm">
                                                        Edit Details
                                                    </button>
                                                ` : ''}
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            `}
                        </div>
                        <div class="p-6 border-t bg-gray-50">
                            <div class="text-center">
                                <p class="text-sm text-gray-600 mb-4">Thank you for your generosity! Your donations help others in need.</p>
                                <button onclick="this.closest('.modal-backdrop').remove(); showDonateModal();" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                    Donate More Items
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showTrackOrder() {
            showNotification('Order tracking feature coming soon!', 'info');
        }

        function showReturnPolicy() {
            showNotification('Return policy page coming soon!', 'info');
        }

        function showFAQ() {
            showNotification('FAQ page coming soon!', 'info');
        }

        function showSupport() {
            showNotification('Support chat coming soon!', 'info');
        }
        
        function showAllNotifications() {
            const notifications = getAdminNotifications();
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 modal-backdrop';
            modal.innerHTML = `
                <div class="flex items-center justify-center min-h-screen p-4">
                    <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden">
                        <div class="p-6 border-b">
                            <div class="flex items-center justify-between">
                                <h2 class="text-2xl font-bold text-gray-800">All Notifications</h2>
                                <button onclick="this.closest('.modal-backdrop').remove()" class="text-gray-400 hover:text-gray-600">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="p-6 max-h-[70vh] overflow-y-auto">
                            <div class="space-y-4">
                                ${notifications.map(notification => `
                                    <div class="p-4 bg-gray-50 rounded-lg border-l-4 ${notification.read ? 'border-gray-300' : 'border-orange-500'}">
                                        <div class="flex items-start justify-between">
                                            <div class="flex-1">
                                                <div class="flex items-center mb-2">
                                                    <span class="text-sm font-medium ${notification.read ? 'text-gray-600' : 'text-gray-900'}">${notification.data.message}</span>
                                                    ${!notification.read ? '<div class="w-2 h-2 bg-orange-500 rounded-full ml-2"></div>' : ''}
                                                </div>
                                                <div class="text-xs text-gray-500">${new Date(notification.timestamp).toLocaleString()}</div>
                                                <div class="text-xs text-gray-400 mt-1">Type: ${notification.data.type}</div>
                                            </div>
                                        </div>
                                    </div>
                                `).join('') || '<p class="text-gray-500 text-center py-8">No notifications</p>'}
                            </div>
                        </div>
                        <div class="p-6 border-t bg-gray-50">
                            <button onclick="markAllNotificationsAsRead(); this.closest('.modal-backdrop').remove();" class="w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90 transition-colors">
                                Mark All as Read
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        function markAllNotificationsAsRead() {
            const notifications = getAdminNotifications();
            notifications.forEach(notification => {
                notification.read = true;
            });
            localStorage.setItem('bomassAdminNotifications', JSON.stringify(notifications));
            showNotification('All notifications marked as read', 'success');
        }

        // Helper functions for orders and donations
        function trackOrder(orderId) {
            showNotification(`Tracking order ${orderId}. You'll receive SMS updates!`, 'info');
        }

        function reorderItems(orderId) {
            const orders = JSON.parse(localStorage.getItem('bomassOrders') || '[]');
            const order = orders.find(o => o.id === orderId);
            
            if (order) {
                // Add all items from the order back to cart
                order.items.forEach(item => {
                    const existingItem = cart.find(cartItem => cartItem.id === item.id);
                    if (existingItem) {
                        existingItem.quantity += item.quantity;
                    } else {
                        cart.push({ ...item });
                    }
                });
                
                localStorage.setItem('bomassCart', JSON.stringify(cart));
                updateCartUI();
                showNotification(`${order.items.length} items added to cart!`, 'success');
            }
        }

        function leaveReview(orderId) {
            showNotification('Review feature coming soon!', 'info');
        }

        function viewDonatedProduct(donationId) {
            // Find the donated product in the products array
            const donatedProduct = products.find(p => p.donationId === donationId);
            if (donatedProduct) {
                document.getElementById('products').scrollIntoView({ behavior: 'smooth' });
                showNotification('Scrolled to products section. Your donated item is featured!', 'success');
            } else {
                showNotification('Your donated product will appear once it goes live!', 'info');
            }
        }

        function contactSupport(donationId) {
            showNotification(`Support will contact you about donation ${donationId} within 24 hours`, 'info');
        }

        function editDonation(donationId) {
            showNotification('Edit donation feature coming soon!', 'info');
        }

        // Counter animation functions
        function startCounterAnimations() {
            // Start animations after a short delay to ensure page is loaded
            setTimeout(() => {
                animateCounter('customersCount', 50, 'K+', 2000);
                setTimeout(() => animateCounter('productsCount', 10, 'K+', 1500), 300);
                setTimeout(() => animateCounter('satisfactionCount', 99, '%', 1800), 600);
            }, 1000);
        }

        function animateCounter(elementId, targetValue, suffix, duration) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            const startValue = 0;
            const increment = targetValue / (duration / 50); // Update every 50ms
            let currentValue = startValue;
            
            const timer = setInterval(() => {
                currentValue += increment;
                
                // Add counting animation class
                element.classList.add('counting');
                setTimeout(() => element.classList.remove('counting'), 100);
                
                if (currentValue >= targetValue) {
                    element.textContent = targetValue;
                    clearInterval(timer);
                    
                    // Add a final celebration pulse
                    setTimeout(() => {
                        element.style.animation = 'bounce 0.6s ease-in-out';
                        setTimeout(() => {
                            element.style.animation = '';
                        }, 600);
                    }, 100);
                } else {
                    element.textContent = Math.floor(currentValue);
                }
            }, 50);
        }

        // Intersection Observer for counter animations on scroll
        function setupCounterObserver() {
            const counters = document.querySelectorAll('.counter');
            let hasAnimated = false;
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasAnimated) {
                        hasAnimated = true;
                        startCounterAnimations();
                    }
                });
            }, {
                threshold: 0.5
            });
            
            counters.forEach(counter => {
                observer.observe(counter);
            });
        }

        // Close user dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const userMenu = document.getElementById('userMenu');
            const userDropdown = document.getElementById('userDropdown');
            
            if (!userMenu.contains(e.target)) {
                userDropdown.classList.add('hidden');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'976791323347a289',t:'MTc1NjQyMzUxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
